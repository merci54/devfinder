import { useUserStore } from "../../lib/stores/userStore";
import Container from "../Container/Container";
import ResultsMessage from "../ResultsMessage/ResultsMessage";
import css from "./ContentBlock.module.scss";

export default function ContentBlock() {
  const user = useUserStore((state) => state.user);
  const error = useUserStore((state) => state.error);
  return (
    <section className={css.section}>
      <Container>
        {user && error === null ? (
          <div className={css.wrapper}>
            <div className={css.imgBlock}>
              <img className={css.img} src={user.avatar_url} alt="user image" />
            </div>
            <div className={css.header}>
              {user.name === null ? (
                <h1 className={`${css.header__title} ${css.emptyValue}`}>
                  No Name
                </h1>
              ) : (
                <h1 className={css.header__title}>{user.name}</h1>
              )}

              {user.created_at && (
                <p className={css.header__date}>
                  Joined{" "}
                  {new Date(user.created_at).toLocaleDateString("en-GB", {
                    day: "numeric",
                    month: "short",
                    year: "numeric",
                  })}
                </p>
              )}
              <p className={css.header__username}>@{user.login}</p>
            </div>
            {user.bio === null ? (
              <p className={`${css.bio} ${css.emptyValue}`}>
                This profile has no bio
              </p>
            ) : (
              <p className={css.bio}>{user.bio}</p>
            )}
            <div className={css.stats}>
              <ul className={css.stats__list}>
                <li className={css.stats__item}>
                  <span className={css.key}>Repos</span>
                  <h2 className={css.value}>{user.public_repos}</h2>
                </li>
                <li className={css.stats__item}>
                  <span className={css.key}>Followers</span>
                  <h2 className={css.value}>{user.followers}</h2>
                </li>
                <li className={css.stats__item}>
                  <span className={css.key}>Following</span>
                  <h2 className={css.value}>{user.following}</h2>
                </li>
              </ul>
            </div>
            <ul className={css.linksList}>
              <li className={css.linksList__item}>
                <svg
                  className={`${css.linksList__icon} ${
                    user.location === null ? css.emptyValue : ""
                  }`}
                  width="14"
                  height="20"
                  viewBox="0 0 14 20"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path d="M7.03013 0.00158203C9.42758 0.0504882 11.5835 1.33021 12.7973 3.4249C14.038 5.56599 14.072 8.13786 12.8882 10.3047L7.92872 19.3823L7.92196 19.3943C7.7038 19.7736 7.3129 20 6.87634 20C6.43974 20 6.04884 19.7736 5.83064 19.3943L5.82388 19.3823L0.86439 10.3047C-0.319437 8.13786 -0.285492 5.56599 0.95521 3.4249C2.16904 1.33021 4.32497 0.0504882 6.72239 0.00158203C6.82477 -0.000527343 6.92778 -0.000527343 7.03013 0.00158203ZM4.06376 6.25001C4.06376 7.80083 5.32544 9.06251 6.87626 9.06251C8.42712 9.06251 9.68876 7.80083 9.68876 6.25001C9.68876 4.69919 8.42708 3.43752 6.87626 3.43752C5.32544 3.43752 4.06376 4.69919 4.06376 6.25001Z" />
                </svg>

                {user.location === null ? (
                  <span className={`${css.linksList__value} ${css.emptyValue}`}>
                    Not available
                  </span>
                ) : (
                  <span className={css.linksList__value}>{user.location}</span>
                )}
              </li>
              <li className={css.linksList__item}>
                <svg
                  className={`${css.linksList__icon} ${
                    user.twitter_username === null ? css.emptyValue : ""
                  }`}
                  width="20"
                  height="17"
                  viewBox="0 0 20 17"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path d="M20 1.92375C19.2562 2.25 18.4637 2.46625 17.6375 2.57125C18.4875 2.06375 19.1362 1.26625 19.4412 0.305C18.6487 0.777499 17.7737 1.11125 16.8412 1.2975C16.0887 0.496249 15.0162 0 13.8462 0C11.5762 0 9.74874 1.8425 9.74874 4.10125C9.74874 4.42625 9.77624 4.73875 9.84374 5.03624C6.43499 4.87 3.41875 3.23625 1.3925 0.747499C1.03875 1.36125 0.831249 2.06375 0.831249 2.82C0.831249 4.24 1.5625 5.49874 2.6525 6.22749C1.99375 6.21499 1.3475 6.02374 0.799999 5.72249C0.799999 5.73499 0.799999 5.75124 0.799999 5.76749C0.799999 7.75999 2.22125 9.41499 4.085 9.79624C3.75125 9.88749 3.3875 9.93124 3.01 9.93124C2.7475 9.93124 2.4825 9.91624 2.23375 9.86124C2.765 11.485 4.2725 12.6787 6.06499 12.7175C4.67 13.8087 2.89875 14.4662 0.981249 14.4662C0.644999 14.4662 0.3225 14.4512 0 14.41C1.81625 15.5812 3.96875 16.25 6.28999 16.25C13.835 16.25 17.96 9.99999 17.96 4.5825C17.96 4.40125 17.9537 4.22625 17.945 4.0525C18.7587 3.475 19.4425 2.75375 20 1.92375Z" />
                </svg>

                {user.twitter_username === null ? (
                  <span className={`${css.linksList__value} ${css.emptyValue}`}>
                    Not available
                  </span>
                ) : (
                  <a
                    href={user.twitter_username}
                    className={css.linksList__value}
                  >
                    {user.twitter_username}
                  </a>
                )}
              </li>
              <li className={css.linksList__item}>
                <svg
                  className={css.linksList__icon}
                  width="20"
                  height="20"
                  viewBox="0 0 20 20"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path d="M7.40404 5.01207C5.0485 7.44921 5.56252 11.4937 8.26076 13.2854C8.34967 13.3445 8.46795 13.3328 8.54431 13.2582C9.11236 12.7031 9.59291 12.1655 10.0137 11.4817C10.0781 11.3771 10.038 11.2414 9.93002 11.1829C9.51845 10.9599 9.10892 10.5418 8.87838 10.1002L8.8781 10.1003C8.60193 9.55042 8.50791 8.93398 8.65412 8.29734C8.65428 8.29738 8.65443 8.29742 8.65459 8.29742C8.82283 7.48234 9.69787 6.72414 10.3662 6.02293C10.3648 6.02246 10.3634 6.02195 10.362 6.02148L12.866 3.46578C13.8639 2.44731 15.5053 2.43891 16.5136 3.44715C17.532 4.445 17.5488 6.09468 16.551 7.11312L15.0343 8.67281C14.9641 8.74499 14.9413 8.85031 14.9742 8.9455C15.3234 9.9582 15.4093 11.3861 15.1752 12.465C15.1687 12.4951 15.2059 12.5149 15.2276 12.4928L18.4556 9.19816C20.5177 7.09347 20.5002 3.66676 18.4167 1.58324C16.2904 -0.543044 12.8289 -0.525348 10.7245 1.6225L7.41697 4.99824C7.4126 5.00285 7.40846 5.00754 7.40404 5.01207Z" />
                  <path d="M13.439 13.7496C13.4389 13.7497 13.4388 13.7499 13.4388 13.75C13.4409 13.7491 13.4428 13.7483 13.4449 13.7474C14.1036 12.5428 14.2333 11.1612 13.9246 9.81432L13.9232 9.81576L13.9217 9.8151C13.6285 8.61553 12.8241 7.42436 11.7316 6.69096C11.6376 6.62787 11.4875 6.63518 11.3995 6.70635C10.8461 7.15381 10.3044 7.7276 9.94697 8.45983C9.89083 8.57479 9.93287 8.71287 10.0435 8.77709C10.4583 9.01791 10.8329 9.37049 11.0837 9.83857L11.0841 9.8383C11.2796 10.169 11.4722 10.7964 11.3474 11.4705C11.3474 11.4705 11.3472 11.4705 11.3472 11.4705C11.2308 12.3643 10.3282 13.1842 9.61068 13.9229L9.61103 13.9233C9.06486 14.4818 7.67646 15.8972 7.12052 16.4651C6.12267 17.4836 4.47299 17.5004 3.45455 16.5026C2.43612 15.5047 2.41928 13.855 3.41713 12.8366L4.93834 11.2722C5.00728 11.2013 5.03072 11.0983 5.00006 11.0042C4.66228 9.96787 4.56975 8.57213 4.78295 7.49451C4.78889 7.46447 4.75193 7.44529 4.73049 7.46717L1.551 10.7123C-0.53228 12.8386 -0.514624 16.3004 1.5903 18.4053C3.71647 20.4885 7.16049 20.4533 9.24369 18.3272C9.9674 17.5176 13.0654 14.6493 13.439 13.7496Z" />
                </svg>

                <a className={css.linksList__value}>{user.html_url}</a>
              </li>
              <li className={css.linksList__item}>
                <svg
                  className={`${css.linksList__icon} ${
                    user.company === null ? css.emptyValue : ""
                  }`}
                  width="20"
                  height="20"
                  viewBox="0 0 20 20"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path d="M10.8583 1.41L1.7 0.0183349C1.275 -0.0483317 0.841666 0.0683349 0.516666 0.343335C0.191666 0.626668 0 1.035 0 1.46V19.0183C0 19.4766 0.375 19.8516 0.833333 19.8516H3.54166V15.4767C3.54166 14.6683 4.19166 14.0183 5 14.0183H7.08333C7.89166 14.0183 8.54166 14.6683 8.54166 15.4767V19.8516H12.0833V2.85167C12.0833 2.135 11.5667 1.52667 10.8583 1.41ZM4.58333 12.1433H3.33333C2.98833 12.1433 2.70833 11.8633 2.70833 11.5183C2.70833 11.1733 2.98833 10.8933 3.33333 10.8933H4.58333C4.92833 10.8933 5.20833 11.1733 5.20833 11.5183C5.20833 11.8633 4.92833 12.1433 4.58333 12.1433ZM3.33333 9.64333H4.58333C4.92833 9.64333 5.20833 9.36333 5.20833 9.01833C5.20833 8.67333 4.92833 8.39333 4.58333 8.39333H3.33333C2.98833 8.39333 2.70833 8.67333 2.70833 9.01833C2.70833 9.36333 2.98833 9.64333 3.33333 9.64333ZM4.58333 7.14333H3.33333C2.98833 7.14333 2.70833 6.86333 2.70833 6.51833C2.70833 6.17333 2.98833 5.89333 3.33333 5.89333H4.58333C4.92833 5.89333 5.20833 6.17333 5.20833 6.51833C5.20833 6.86333 4.92833 7.14333 4.58333 7.14333ZM3.33333 4.64333H4.58333C4.92833 4.64333 5.20833 4.36333 5.20833 4.01833C5.20833 3.67333 4.92833 3.39333 4.58333 3.39333H3.33333C2.98833 3.39333 2.70833 3.67333 2.70833 4.01833C2.70833 4.36333 2.98833 4.64333 3.33333 4.64333ZM8.74999 12.1433H7.49999C7.15499 12.1433 6.87499 11.8633 6.87499 11.5183C6.87499 11.1733 7.15499 10.8933 7.49999 10.8933H8.74999C9.09499 10.8933 9.37499 11.1733 9.37499 11.5183C9.37499 11.8633 9.09499 12.1433 8.74999 12.1433ZM7.49999 9.64333H8.74999C9.09499 9.64333 9.37499 9.36333 9.37499 9.01833C9.37499 8.67333 9.09499 8.39333 8.74999 8.39333H7.49999C7.15499 8.39333 6.87499 8.67333 6.87499 9.01833C6.87499 9.36333 7.15499 9.64333 7.49999 9.64333ZM8.74999 7.14333H7.49999C7.15499 7.14333 6.87499 6.86333 6.87499 6.51833C6.87499 6.17333 7.15499 5.89333 7.49999 5.89333H8.74999C9.09499 5.89333 9.37499 6.17333 9.37499 6.51833C9.37499 6.86333 9.09499 7.14333 8.74999 7.14333ZM7.49999 4.64333H8.74999C9.09499 4.64333 9.37499 4.36333 9.37499 4.01833C9.37499 3.67333 9.09499 3.39333 8.74999 3.39333H7.49999C7.15499 3.39333 6.87499 3.67333 6.87499 4.01833C6.87499 4.36333 7.15499 4.64333 7.49999 4.64333Z" />
                  <path d="M12.9167 7.64404L18.8501 8.88654C19.5309 9.03737 20.0001 9.62321 20.0001 10.3115V18.3932C20.0001 19.1974 19.3459 19.8515 18.5417 19.8515H12.9167V7.64404ZM15.6251 17.3515H16.8751C17.2201 17.3515 17.5001 17.0715 17.5001 16.7265C17.5001 16.3815 17.2201 16.1015 16.8751 16.1015H15.6251C15.2801 16.1015 15.0001 16.3815 15.0001 16.7265C15.0001 17.0715 15.2801 17.3515 15.6251 17.3515ZM16.8751 14.8515H15.6251C15.2801 14.8515 15.0001 14.5715 15.0001 14.2265C15.0001 13.8815 15.2801 13.6015 15.6251 13.6015H16.8751C17.2201 13.6015 17.5001 13.8815 17.5001 14.2265C17.5001 14.5715 17.2201 14.8515 16.8751 14.8515ZM15.6251 12.3515H16.8751C17.2201 12.3515 17.5001 12.0715 17.5001 11.7265C17.5001 11.3815 17.2201 11.1015 16.8751 11.1015H15.6251C15.2801 11.1015 15.0001 11.3815 15.0001 11.7265C15.0001 12.0715 15.2801 12.3515 15.6251 12.3515Z" />
                </svg>
                {user.company === null ? (
                  <span className={`${css.linksList__value} ${css.emptyValue}`}>
                    Not available
                  </span>
                ) : (
                  <span className={css.linksList__value}>{user.company}</span>
                )}{" "}
              </li>
            </ul>
          </div>
        ) : (
          <ResultsMessage />
        )}
      </Container>
    </section>
  );
}
